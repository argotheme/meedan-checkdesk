// User section profile
// http://checkdesk:8888/user
@mixin profile($width: $fw, $context: $cw) {
  div.profile {
    @include span-columns($width, $context);
    .user-picture {
      float: opposite-position($from-direction);
      @include span-columns(1 omega, $context);
    }
    @content;
  }
}

// Checkdesk User Section Forms
//
// .not-front.not-logged-in.page-user - main container selector on body
//
// The log in page has a small form in the middle which also appears as an even smaller form in the navigation section.

// Main mixin for all of the user section
// 
// $fw - the form width
@mixin user_section_forms($fw: $cw, $context: $cw) {  
  
  // Default form settings shared in checkdesk
  @include checkdesk-form;

  // The social media sign-in boxes
  #edit-social-media-signin {
    @include full($fw);

    // Generate an "or" divider
    // 
    // Deprecated: can't be localized properly
    position: relative;
    &:after {
      position: absolute;
      content: "or";
      font-family: $serif-font-family;
      font-style: italic;
      @include border-radius(50%);
      padding: $gw/3 $gw/2;
      bottom: -$gw;
      #{$from-direction}: 50% - 2%; // ugh
      background: $light-grey;
      font-size: $base-font-size;
    }
    
    // hide "Sign in with:"
    label {
      // @include full;
      // font-weight: 700;
      // margin-top: $gw;
      display: none!important;
    }

    // The list of social media providers
    div.item-list {
      // reset item-list
      @include checkdesk-form-item-list($fw);

      margin-bottom: $gw*2;
      ul { margin-top: $gw; }

      li {
        text-align: center;
        display: inline-block;
        a {
          @include chunky-block;
          margin-#{$omega-float}: $gw/2;
          display: inline-block;
          line-height: 2.4;
          padding: $gw;
          width: 7em;          

          // The word "Twitter"
          &:after {
            color: white;
            font-size: $base-font-size;
          }
        }
      }

      // Add the icons with a transition
      $sign-in-icon-size: 20px;
      li.first a {
        @include bb-transition($light-grey, $twitter-blue) {
          @include icon(twitter, $sign-in-icon-size, white);
          &:after { content: " Twitter"; }
        }
      }

      li a[class^='facebook'] {
        @include bb-transition($light-grey, $facebook-blue) {
          @include icon(facebook, $sign-in-icon-size, white);
          &:after { content: " Facebook"; }
        }
      }

      // the icons with the social media 
      img {
        display: none;
      }
    }    
  }
  .form-item.form-item-name {
    clear: both;
    display: block;
    border-top: 1px solid $light-grey!important;
    padding-top: $gw*2!important;
  }    
}

// Checkdesk user section
// 
// Emit main login form CSS
body.not-front.not-logged-in.page-user {

  // Hide breadcrumbs and titles
  div.breadcrumb, 
  h1.title {
   display: none;
  }

  @include user_section_forms;
}