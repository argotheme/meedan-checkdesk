// Core layout
// 
// This is the basic "Skeleton" that drives the "core" layout. 
// All layout is expressed as a ratio using span-columns() + container().
// This allows us to more easily redefine the layout in different context. 
// Example: create a new login form by changing $form_width when @including the login form mixin.
// We also combine this technique with media queries to resize based on browser width.
//
// Compatibility: untested

// Questions:
//
// Where will the sidebar go? - probably will only be active for some views of the liveblog, so on that page we will adjust the primary content to be ($total-cols - $sidebar-width)
// Which approach to breakpoints will we us? - Probably should be small calls to Susy's at-breakpoint. Need to keep the layout abstract so we can use it relculate.

// Further Reading: 
// http://susy.oddbird.net/guides/reference/#ref-responsive

body {

  #page {
    // The all-powerful container() mixin
    // 
    // The container sets the ratio for all other calculations.
    // You should not need to set $container again, but you can.
    // Nested grids are usually more trouble than they are worth.
    // Requires a mathematically sensible $container-width aka $cw.
    // 
    //$cw - the width of the outer width in columns, usually 12 or 24
    @include container($cw);
    @include susy-grid-background;
    margin-top: $gw * 6;
  }

  #content-inner {
    @include span-columns($center-column-width, $cw, $gw);
    @include squish(2,2,$cw);
  }

  // Drupal alerts and errors at the top of the page
  .alert {
    @include reset-box-model;
    @include span-columns($cw -2, $cw, $gw);
    @include squish(1,1, $cw);
  }

  // Debugger
  // @include debug_breakpoints;

  // =====
  // breakpoint: 0
  // Applies to everything
  @include at-breakpoint(1) {
    #main {
      border-top: 1px solid yellow;
    }
  }
  
  // =====
  // breakpoint: small
  // Applies to everything larger than a <min-width:> value
  @include at-breakpoint($break-small) {
    #main {
      border-top: 1px solid green;
    }
  }

  // =====
  // breakpoint: medium
  // Applies to everything larger than an even larger <min-width:> value
  @include at-breakpoint($break-medium) {
    #main {
      border-top: 1px solid pink;
    }
  }
}