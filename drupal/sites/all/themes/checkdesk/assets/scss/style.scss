@charset "UTF-8";

// Checkdesk Sass Theme
@import "base";

// Tell the browser about these files and define the font name
// See base.scss configuration, with overrides in style-rtl.scss
@include bowerbird-font-face("FontAwesome", "fontawesome-webfont-webfont");
@include bowerbird-font-face("Merriweather", "merriweather-webfont-webfont");
@include bowerbird-font-face("Merriweather Light", "merriweather-light-webfont-webfont");
@include bowerbird-font-face("Andalus", "andlso-webfont");
@include bowerbird-font-face("Droid Naskh", "droidnaskh-bold-webfont", "bold", "bold");
@include bowerbird-font-face("Droid Naskh", "droidnaskh-regular-webfont", "normal", "normal");
@include bowerbird-font-face("Andalus", "andlso-webfont");

// Modular scale 
// via: gem
@import "modular-scale";

// Colors
// via: bowerbird sass extension
// note: We always want to use colors by name, to facilitate readbility + discussion.
// note: hsl() values preferred for readability
@import "bowerbird/colors";

// Checkdesk configuration 
// Requires colors, modular-scale
@import "base";
@import "mixins";

// Bowerbird Compass Extension
// See also README.md and ../bowerbird/README.md
// Requires: base
@import "bowerbird";

// Checkdesk overrides a Susy function very selectively
// Requires: base
@import "override_susy/grid";

// Aliases for bidirectional stuff
// Todo load susy earlier and move this file to base CGB Jan 2013
$alpha: $from-direction;
$omega: opposite-position($from-direction);

// Set the default position of icons
$icon-position: 'before';
@if $from-direction == 'right' {
	$icon-position: 'after';
}

// Drupal styles
// Drupal itself should not emit *any* CSS. 
//
// These are all of the files that were ultimately being included in the markup.
// Now all of them can be controlled here and inspected more easily.
// Ideally these will all be *completely refactored away* CGB Jan 2013

@import "replace_drupal/html5bp_defaults"; // this seems like it is asking for trouble, do we need it?
@import "replace_drupal/system_base";
@import "replace_drupal/system_menus";
// @import "replace_drupal/system_messages";
// @import "system_theme"; // hoping i can remove this huge one ....
@import "replace_drupal/jquery_ui_core";
// @import "jquery_ui_theme"; // this is pretty big do we really need it?
@import "replace_drupal/comment";
@import "replace_drupal/field";
@import "replace_drupal/node";
// @import "replace_drupal/search";
// @import "replace_drupal/user";
// @import "replace_drupal/views";
// @import "replace_drupal/ctools"; 
// @import "replace_drupal/ctools_modal"; // using styles based on TB for all windows
// @import "replace_drupal/oembed";
@import "replace_drupal/toolbar";
@import "replace_drupal/shortcut";
@import "replace_drupal/contextual";
@import "replace_drupal/rules";
@import "replace_drupal/context_reaction_block";
@import "replace_drupal/l10n_client";

// Bowerbird Drupal touchups
// via: bowerbird
@import "bowerbird/drupal";

// Some views stuff we extracted from cd
// 
// Deprecated
// @import "views";

//  Debugger mixins for the grid, breakpoints, etc.
@import "bowerbird/debug";

// Transition helper, for transitioning between two states
@import "bowerbird/transition";

// background image helper for development
@import "bowerbird/backgrounds";

// Bowerbird font-icon support mixin: icon()
@import "bowerbird/icons/icons";

// Load @extendable %icon- selectors
// @extend directly or use icon() mixin to do it for you
@import "bowerbird/icons/fontawesome";

// Bowerbird fancy-buttons 
// Example usage: button { @include button($tupperware-blue, 26px, 1em, 4px); }
// Replaces: "bowerbird/compass_twitter_bootstrap/buttons";
// Replaces: "bowerbird/compass_twitter_bootstrap/button-groups";
@import "bowerbird/buttons";

// Bowerbird fancy-gradients
// Example usage: div { @include gradient($dark-blue, $midnight-blue); }
@import "bowerbird/gradients";

// ======================================================================
// Checkdesk (lightly forked) versions of Twitter Bootstrap libraries.
//
// These are customized versions of existing modules (files).
// The order of the includes is important: variables, mixin, then reset
//
// Deprecated: use our own mixins wherever possible. Also, use unmodified versions straight from bowerbird whenever possible.

// Twitter Bootstrap Recognizable by their $camelCase variables
@import "replace_ctb/variables";

// Our overrides and replacement for TB mixins
//
// All of them are namespaced ctb-mixinname
@import "replace_ctb/mixins";
@import "replace_ctb/forms";
@import "replace_ctb/navs";
@import "compass_twitter_bootstrap/reset";
// @import "compass_twitter_bootstrap/code"; // TB Syntax highlighting
// @import "compass_twitter_bootstrap/tables"; // TB Tabular data

// TB utilities
@import "compass_twitter_bootstrap/utilities";   // Should come last of TB

// Checkdesk mixins
//
@import "mixins"; // Completely unrelated to Twitter Bootstrap mixins file
@import "alerts"; // Mix of Drupal alerts and Twitter Bootstrap alerts.
@import "dropdowns"; // Based on Twitter Bootstrap dropdowns
@import "modals"; // Based on Twitter Bootstrap modals


// ====================================================================== 
//  Default checkdesk layout
//
body {
  @include container($container-width $break-small $break-medium); // establish three breakpoints
  #main {
    @include span-columns($container-width, $container-width, $gutter-width);
  }
}

// ====================================================================== 
// Main Checkdesk Sass files
// Drupal sections, pages, mixins

//  Checkdesk typography
//  And a reponsive typography mixin which is applied in layout.
@import "bowerbird/_typography"; //defaults
@import "typography"; //checkdesk specific

// Checkdesk Drupal tabs
// .tabs - the containing element which has a ul.primary and ul.secondary
@import "bowerbird/tabs";  // defaults
@import "tabs";

// Checkdesk notifications
// #block-views-my-notifications-block - the main notification list in the top bar
@import "notifications";

// Checkdesk reports
@import "report";

// Checkdesk updates
@import "update";

// Checkdesk commenting plugins
@import "livefyre";
@import "facebook_comments";

// Checkdesk bookmarklet stuff
@import "bookmarklet";
@import "install_bookmarklet";

// Checkdesk Pagination
@import "pagination";

// Primary Navigation and Drupal nav at very top
@import "navigation";

// Tabs
@import "bowerbird/tabs"; // reset
// @import "tabs";  // checkdesk styles

// Form: password strength section
@import "form_password";

// Forms, Tables
@import "forms";
@import "tables";

// ====================================================================== 
// Checkdesk pages 
//

// Checkdesk reports
@import "administer_users";

// Liveblog page
@import "liveblog";

// Story blog page with discussion
@import "story";

// Create update page
// Sidebar layout with main and secondary cols
@import "reports_filter";
@import "sidebar";

// User section
@import "user";

// Create node page and form
@import "create_node";

// Reports pages
@import "reports";

// ====================================================================== 
// Styles in progress
//

// @include version-banner;

body {
  @include cd-background;
}

// Translation client
#l10n-client {
	display: block !important;
	visibility: visible !important;
	form {
		width: 100%;
		.form-item {
			textarea {
				clear: both;
				float: none;
			}
			
		}
	}
}

// Bidi helpers
// These are unusual because they are not overridden in style-rtl.scss
.rtl {
  text-align: right;
  direction: rtl;
}
.ltr {
  text-align: left;
  direction: ltr;        
}

// Not so evil hack
// corrects the links to the story in the update
a[href*="/en"] {
  font-family: $en-body-font-stack;
  @if $debug {
    border: 1px solid red;
  }
}

a[href*="/ar"] {
  font-family: $ar-body-font-stack;
  @if $debug {
    border: 1px solid aqua;
  }
}


// ====================================================================== 
// Lastly: hacks to be removed
//
@import "evil_hacks";

// ====================================================================== 
// No really, The End
//
// Debuggers get the final word

// $display-layout-debugger: true; // shows current breakpoint and columns
// @include visualize-grid($display-layout-debugger);
