@charset "UTF-8";
// Checkdesk Sass Theme 2.x

// Modular scale via gem
@import "modular-scale";

// First, Checkdesk configuration.
@import "base";

// Bowerbird Compass Extension
// See: README.md and ../bowerbird/README.md
@import "bowerbird";

// Checkdesk override susy functions very selectively
@import "override_susy/grid";

// Bowerbird Drupal touchups
@import "bowerbird/drupal";

//  Debugger mixins for the grid, breakpoints, etc.
@import "bowerbird/debug";

// Transition helper, for transitioning between two states
@import "bowerbird/transition";

// Bowerbird font-icon support mixins: apply-font-face() and icon()
@import "bowerbird/icons/icons";

// background image helper for development
@import "bowerbird/backgrounds";

// Icon webfonts stored locally
// This loads many classnames that can be safely removed before production - CGB
@include apply-font-face("FontAwesome", "fontawesome-webfont");

// Load .icon- classnames
// Import the classnames as a mixin
@import "bowerbird/icons/fontawesome";
// Now use the mixin
@include all-fontawesome-classnames;

// Bowerbird fork of fancy-buttons 
// Example usage: button { @include button($tupperware-blue, 26px, 1em, 4px); }
// Replaces: "bowerbird/compass_twitter_bootstrap/buttons";
// Replaces: "bowerbird/compass_twitter_bootstrap/button-groups";
@import "bowerbird/buttons";

// Bowerbird fork of fancy-gradients
// Example usage: div { @include gradient($dark-blue, $midnight-blue); }
@import "bowerbird/gradients";

// Bowerbird colors by name
// Example usage: div { color: $tupperware-blue; }
// We always want to use colors by name, to facilitate readbility + discussion.
@import "bowerbird/colors";

// ====================================================================== 
// Checkdesk (forked) versions of Twitter Bootstrap libraries.
//
// These are customized versions of existing modules (files).
// The order of the includes is important: variables, mixin, then reset
@import "override_ctb/variables";

// Our overrides and replacement for TB mixins
@import "override_ctb/mixins";

// Our version of TB forms
$inputHeight: $base-font-size + 4;
@import "bowerbird/compass_twitter_bootstrap/reset";

// our version of bootstrap forms
// @import "override_ctb/forms";
@import "bowerbird/compass_twitter_bootstrap/forms";

// Bootstrap modals
@import "override_ctb/modals";
// @import "bowerbird/compass_twitter_bootstrap/modals";

// Bootstrap alerts
@import "override_ctb/alerts";

// Bootstrap typography
@import "override_ctb/type";

// Bootstrap dropdowns
@import "override_ctb/dropdowns";

// ====================================================================== 
// Imported but unmodified Twitter Bootstrap scaffolding
//
// TB "scaffolding" - Setup typography and image classes
// Deprecated: these should be in more appropriate files or mixins
@import "bowerbird/compass_twitter_bootstrap/scaffolding";

// TB Syntax highlighting
@import "bowerbird/compass_twitter_bootstrap/code";

// TB Tabular data
@import "bowerbird/compass_twitter_bootstrap/tables";

// .btn-group { font-size: $base-font-size; } // not sure why this is necessary. CGB Dec 2012

@import "bowerbird/compass_twitter_bootstrap/utilities";   // Should come last of TB

// ====================================================================== 
// The Rest of Twitter Bootstrap
//
// These bootstrap files not in use.
// They are available via bowerbird's copy of the compass_twitter_bootstrap library.
// Uncomment these lines to use them:
// @import "bowerbird/compass_twitter_bootstrap/sprites";
// @import "bowerbird/compass_twitter_bootstrap/wells";
// @import "bowerbird/compass_twitter_bootstrap/component-animations";
// @import "bowerbird/compass_twitter_bootstrap/close";
// @import "bowerbird/compass_twitter_bootstrap/breadcrumbs";
// @import "bowerbird/compass_twitter_bootstrap/pagination";
// @import "bowerbird/compass_twitter_bootstrap/pager";
// @import "bowerbird/compass_twitter_bootstrap/thumbnails";
// @import "bowerbird/compass_twitter_bootstrap/labels-badges";
// @import "bowerbird/compass_twitter_bootstrap/progress-bars";
// @import "bowerbird/compass_twitter_bootstrap/accordion";
// @import "bowerbird/compass_twitter_bootstrap/carousel";
// @import "bowerbird/compass_twitter_bootstrap/hero-unit";
// @import "bowerbird/compass_twitter_bootstrap/tooltip";
// @import "bowerbird/compass_twitter_bootstrap/popovers";

// ====================================================================== 
// Our Drupal sections, pages, mixins

//  Checkdesk typography
//
// Core layout mixin which we will re-apply it in certain contexts as needed, such as the login page or in our media query breakpoints.
// See also: override_ctb/type.scss
@import "typography";

// Checkdesk Drupal tabs
// 
// .tabs - the containing element which has a ul.primary and ul.secondary
@import "tabs";

// Checkdesk notifications
// 
// #block-views-my-notifications-block - the main notification list in the top bar
@import "notifications";

// Pagination
@import "pagination";

// Checkdesk reports
@import "report";

// Checkdesk commenting plugin
@import "livefyre";

// Checkdesk bookmarklet stuff
@import "bookmarklet";

// ====================================================================== 
// Forms
//
// Mixins for forms
@import "forms";

// password strength section
@import "form_password";

// Form implementations
@import "user";
@import "create_node";

// ====================================================================== 
//  Checkdesk layout
//
// Core layout mixin which we will re-apply it in certain contexts as needed, such as the login page or in our media query breakpoints.
// @import "layout";

// Primary Navigation and Drupal nav at very top
@import "navigation";

// ====================================================================== 
// Final centralized render of CSS
//

// Main layout structure
// Accounts for columns of padding at various widths

// Checkdesk Layout
//
// $break: the desired width, in columns
// $pad: the "padding" column units on each side
// $tw: the tabs width (must account for $pad)
// $fw: the forms width (must account for $pad)
@mixin cd-layout(
  $break: $cw, 
  $pad: 1, 
  $tw: $break, 
  $fw: $break) {
  
  @include debug-grid($break);

  // 1. Set the width and padding for the current element
  @include span-columns($break - $pad*2, $total-columns, $gw);
  @include pad($pad, $pad, $break); // then add the padding in $break context
  
  // 2. Include all of our layout-aware mixins
  @include bb-tabs($fw - $pad*2, $break) { @include pad(1,1, $break) }
  @include checkdesk-form($fw - $pad*2, $break) { @include pad(1,1, $break) }
  @include profile($fw - $pad*2, $break) { @include pad(1,1, $break) }
}


#main {
  background: white;
  // 1. Setup first container
  // This has padding based on $grid-padding
  @include container($cw);
  #content-inner {

    // 2. Default layout 
    @include cd-layout($cw, 0); // 0 padding

    // 3. Breakpoint: Larger than a smartphone
    @include at-breakpoint($break-small) {
      $padding-on-each-side: 1;
      @include container($break-small);
      @include cd-layout($break-small, 1);
    }

    // 4. Breakpoint: Larger than a tablet
    @include at-breakpoint($break-medium) {
      $current-breakpoint: $break-medium;
      $current-padding: 2;
      $current-layout-width: $current-breakpoint - $current-padding*2;
      @include container($current-breakpoint);
      @include cd-layout($current-layout-width, $current-padding);
      // @debug "Now at $current-breakpoint (#{$current-breakpoint}) using $current-layout-width: #{$current-layout-width} with $current-padding: #{$current-padding} on each side.";
      // @if (($current-layout-width + $current-padding) > $current-breakpoint) {
      //   @warn "This configuration of cd-layout will exceed $break (#{$current-breakpoint}).";
      // }
    }
  }

  // links on the main liveblog page that are I think supposed ot be headlines
  .views-row {
    & > a {
    padding: 1em 0;
    display: block;
    font-weight: bold;
    }
    
    & > h1.title {
      padding: 1em 0;
    }
    
    & > p {
      padding: 1em 0;
    }
  }

  #content-header {
    @include clearfix;
  }

}

// ====================================================================== 
// Deprecated, disabled, or hidden things 

// RSS icon
a.feed-icon {
  display: none;
}

// Disable vertical tabs in forms
div.vertical-tabs {
  // we need to verride this by disabling CSS in drupal before proceeding.
  display: none!important;  
}

// We don't use the i element for icons
// And they should not display
i {
  display: none;
  &:hover {
    display: none
  }
}

// Disable views configuration popup
.contextual-links-wrapper {
  display: none!important;
}

// hack for empty div need to remove this in markup. CGB Dec 2012
li.menu-449 {
  display: none!important;
}

// Hide the summary link from text fields.
// FIXME This is a hack because the fields are of type "Long text and summary" while they should really be of type "Long text".
.field-edit-link {
  display: none
}

// ====================================================================== 
// The End
//
// Debuggers and specs go last

// Debugging mixins
// @include debug_drupal;

// Pseudo-spec
// @import "spec";
