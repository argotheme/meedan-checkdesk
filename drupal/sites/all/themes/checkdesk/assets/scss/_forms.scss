// For testing
// $from-direction: right;
@mixin full {
  @include span-columns($fw, $fw);
}

// Item lists
// Reset password
@mixin checkdesk-form-item-list() {
  @include full;
  a {  color: $dark-grey;  }
  
  ul {
    li {
      @include reset-box-model;
      @include reset-list-style;
    }
  }
}

.vertical-tabs-list {
  li {
    float: opposite-position($from-direction);
    text-align: opposite-position($from-direction);
    background-color: $light-grey;
  }
}


// Form items in a form
//
// $fw - form width
// $context - size of containing element
//
// Compatibility: untested
@mixin checkdesk-form-item($fw: $fw, $context: $cw, $gw: $gw) {

  .form-item-name ~ .item-list {
    // Forgot password and create new account <.item-list>s
    @include checkdesk-form-item-list;
  }

  // All form items
  .form-item {
    margin: 0;
    padding: 0;
    @include full;

    // nested .form-item .form-item
    .form-item {
      @include reset-box-model;
      @include full;
    }

    input {
      @include reset-box-model;
      @include span-columns($fw, $fw);
      
      &:hover {
        // @include single-box-shadow($grey, 2px, 2px, 2px, 2px, inset);
      }

      clear: opposite-position($from-direction);
      padding: { top: $gw/2; bottom: $gw/2; }
      margin: { top: $gw/2; bottom: $gw/2; }

  
      @include border-radius(3px);

      border: 1px solid $grey;
      @include bb-transition($grey, $black, '0.2s', 'border-color', ':hover');
      &:hover {
        border: 1px solid $darker-grey;
      }
      @include bb-transition($grey, $black, '0.2s', 'border-color', ':focus');
      &:focus {
        border: 1px solid $darker-grey;
      }
    }

    label {
      @include reset-box-model;
      font-size: $large-font-size;
      display: block;
      font-weight: normal;
    }

    .description {
      @include reset-box-model;
      clear: $from-direction;
      font-size: $form-helper-text-size;
      // display: block;
      // hidden by default, displayed at larger breakpoints
      display: none;
    }
  }
}

// Basics for all checkdesk forms
//
// $fw - form width
// $context - size of containing element
//
// Compatibility: untested
@mixin checkdesk-form($fw: $fw, $context: $cw) {
  // @debug $fw;
  // @debug $context;
  
  // The form
  //
  form {
    font-size: $small-font-size;
    margin-top: $gw;
    @include span-columns($fw, $context, $gw);
    @include checkdesk-form-item($fw, $context);
    // background-color: white;

    // Actions at the bottom
    .form-actions {
      @include reset-box-model;
      @include clearfix;
      @include full;
      @include bb-background('diagmonds', 'large', 'scroll');

      input[type="submit"] {
        // @include checkdesk-button($twitter-blue);
        margin-top: $gw;
        @include chunky-block;
        background-color: $identity-color;
        margin-bottom: $gw;
      }
    }
    
    .form-item-remember-me {
      font-size: $small-font-size;
      color: $dark-grey;
    }

    // checkboxes
    .form-type-checkbox {
      @include reset-box-model;
      @include full;

      // the checkbox itself
      input.form-checkbox {
        @include inline-block;
        padding: $gw;
        width: $gw;
      } 

      // checkbox label
      label.option {
        line-height: 1.3;
        @include reset-box-model;
        @include inline-block;
        clear: none;
        float: left;
      }
    }

    textarea, input {
      background-color: $inputBackground;
      border: 1px solid $inputBorder;
      @include ctb-box-shadow(inset 0 1px 1px rgba(0,0,0,.075));
      @include ctb-transition(#{border linear .2s, box-shadow linear .2s});

      // Focus state
      &:focus {
        border-color: rgba($donjuan, .8);
        outline: 0;
        outline: thin dotted \9; /* IE6-9 */
        @include ctb-box-shadow(#{inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba($donjuan, .6)});
      }
    }
  }
}