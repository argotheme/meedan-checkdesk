// Notifications block
//
// When the user gets a notification they can preview it in the navigation.
// http://wf.meedan.net/project/checkdesk/notifications
// Contained by: Navigation
//
// Compatibility: untested
#block-views-my-notifications-block {
  position: relative;
  @include clearfix;
  overflow: visible;
  float: opposite-position($from-direction);
  .auto-refresh {
    display: none;
  }
  h2 {
    span { @include reset-box-model; }
    @include reset-box-model;
    @include chunky_block($firetruck-red, blue, green, white);
    font-weight: normal;
    cursor: pointer;
    position: relative;
    z-index: 2;
    .notifications-count {
      color: $notification-count-color;
      span {
        padding: 1px;
        background: transparentize(#ffffff, 0.9);
      }
    }
  }
  .content {
    @include reset-box-model;
    border: 5px solid $syntax-four;
    position: absolute;
    #{$from-direction}: 0;
    top: $base-line-height;
    background: $light-grey;
    @include span-columns($cw omega, $cw/2);
    .view-content {
      height: 250px;
      overflow: auto;
      background: white;
    }
    .item-list {
      display: none;
    }
    .notifications-settings-link, .more-link {
      margin: 0;
      padding: 12px 18px;
      display: block;
      a, a:visited, a:link {
        font-size: $small-font-size;
        color: #6a6a6a;
        text-decoration: none;
      }
      a:hover {
        text-decoration: underline;
      }
    }
    .notifications-settings-link {
      float: $from-direction;
    }
    .more-link {
      float: opposite-position($from-direction);
    }
    .notifications-footer {
      clear: both;
    }
    .heartbeat-activity {
      color: $dark-grey;
      border-bottom: 1px solid $light-grey;
      padding: { top: $gw; bottom: $gw; } 
      @include span-columns($cw, $cw);
      font-size: $small-font-size;
      a, a:visited, a:link {
        text-decoration: none;
        font-weight: bold;
        color: #6a6a6a;
      }
      a:hover {
        text-decoration: underline;
      }
      p, img {
        float: $from-direction;
      }
      p {
        margin: 0;
        @include span-columns($cw - 2, $cw);
      }
      img {
        margin-#{opposite-position($from-direction)}: 9px;
        margin-bottom: 6px;
      }
      .heartbeat-time-ago {
        clear: both;
        display: block;
        margin: 0 0 0 9px;
        height: 12px;
        line-height: 12px;
        padding-#{$from-direction}: 19px;
        background-repeat: no-repeat;
        background-color: transparent;
        background-position: $from-direction bottom;
        font-weight: normal;
        color: #a9a9a9;
      }
    }
    /* Icons for each activity type */
    .checkdesk_add_story, .checkdesk_comment_on_update, .checkdesk_new_update_on_story_i_commented_on_update, .checkdesk_reply_to_comment {
      .heartbeat-time-ago { background-image: url(../imgs/icons/notification-star.png); }
    }
    .checkdesk_fact_checking_on, .checkdesk_fact_checking_set, .checkdesk_fact_status_changed_for_commenter, .checkdesk_flag_report {
      .heartbeat-time-ago { background-image: url(../imgs/icons/notification-flag.png); }
    }
    .checkdesk_comment_on_report, .checkdesk_report_published_in_update, .checkdesk_report_suggested_to_story {
      .heartbeat-time-ago { background-image: url(../imgs/icons/notification-report.png); }
    }
  }
}

#block-views-my-notifications-block.notifications-block-expanded {
  .content, h2 {
    background: #fff;
  }
  h2 {
    color: #626262;
    z-index: 6;
    font-size: $base-font-size;
	  // @include border-radius(5px 5px 0 0);
  }
  .content {
    // @include box-shadow(1px 1px 10px #333);
	  // @include border-radius(5px);
    z-index: 5;
    @if $from-direction == left {
      @include border-top-right-radius(0);
    } @else {
      @include border-top-left-radius(0);
    } 
  }
}
::-webkit-scrollbar {
  width: 9px;
}
::-webkit-scrollbar-track {
  background: #fefefe;
}
::-webkit-scrollbar-thumb {
  background: #eee;
}
