// Notifications block
//
// When the user gets a notification they can preview it in the navigation.
// http://wf.meedan.net/project/checkdesk/notifications
// Contained by: Navigation
//
// Compatibility: untested

// setting omega
$omega: opposite-position($from-direction);

#my-notifications {
  width: 360px; // warning magic px CGB
  font-size: $fontSizeMini;
  line-height: 1;
  

  .heartbeat-activity {
    @include ctb-clearfix();
    color: $gray;
    padding: $absolute-line-height/2 $gutter-width;
    border-bottom: 1px solid $grayLighter;
    overflow: hidden;

    a {
      @include ctb-linkColor($gray);
    }

    .activity-data {
      @include ctb-clearfix();
      .activity-data-image {
        float: $from-direction;
        margin-#{$omega}: $gutter-width;
        vertical-align: text-bottom;
        @include ctb-square(20px);
      }

      .activity-data-message {
        float: $from-direction;
        width: 80%;
      }
    }

    .activity-meta {
      margin-top: $absolute-line-height/4;
      color: $grayLight;
    }
  }

  // Activity icons
  @mixin activity-icon(
    $name: "add_story", 
    $symbol: "warning-sign", 
    $color: $grey, 
    $size: $notification-icon-size) 
    {
    .checkdesk_#{$name} #{$notifications-icon-selector} {
      @include icon($symbol, $size, $color) {
        // apply the width directly to the :before content
        width: $notification-image-width;
      }
    }
  }

  // .icon-iconname
  @include activity-icon("comment_on_update", "comment", $grey);
  @include activity-icon("new_update_on_story_i_commented_on_update", "comment", $dark-blue);
  @include activity-icon("reply_to_comment", "comment-alt", $dark-blue);
  @include activity-icon("comment_on_report", "comment", $dark-blue);
  @include activity-icon("fact_checking_on", "star", $twitter-blueish);
  @include activity-icon("fact_checking_set", "star", $twitter-blueish);
  @include activity-icon("report_suggested_to_story", "link", $facebook-blue);
  @include activity-icon("fact_status_changed_for_commenter", "warning-sign", $black);
  @include activity-icon("flag_report", "flag", $youtube-red);
  @include activity-icon("report_published_in_update", "star", $grey);
  @include activity-icon("new_user", "user", $dark-blue);
  
  // Pager is called when content is scrolled, so it must be hidden
  ul.pager-load-more {
    display: none;
  }

  // We need a scrollbar here
  .view-content {
    height: ms(10);
    overflow-y: auto;
    margin-bottom: $absolute-line-height/4;
  }

  .more-link {
    float: $alpha;
  }

  .notifications-settings-link {
    @include reset-box-model;
    float: $omega;
  }

  .more-link,
  .notifications-settings-link {
    a {
      @include dropdown-link;
      @include ctb-linkColor($gray);
      &:hover {
        background-color: transparent;
      }
    }
  }

}
