(function(){"use strict";var e=document.getElementsByTagName("script"),t=e[e.length-1],a=document.getElementsByTagName("iframe"),n=a[a.length-1];if(!t||t.tagName!=="SCRIPT")throw"Meedan: Could not locate embedded widget SCRIPT.";if(!n||n.tagName!=="IFRAME")throw"Meedan: Could not locate embedded widget IFRAME.";var d={handleMessage:function(e){var t=e.data.split(";"),a=t.shift();switch(a){case"loaded":d.handleLoadedMessage(t);break;case"setHeight":d.handleSetHeightMessage(t)}},handleLoadedMessage:function(){},handleSetHeightMessage:function(e){e[0]&&(n.style.height=e[0]+"px"),d.api("postSetHeight",e)},api:function(e,t){var a;document.createEvent?(a=document.createEvent("HTMLEvents"),a.initEvent(e,!0,!0)):(a=document.createEventObject(),a.eventType=e),a.data=t||{},document.createEvent?n.dispatchEvent(a):n.fireEvent("on"+a.eventType,a)}};window.addEventListener?window.addEventListener("message",d.handleMessage,!1):window.attachEvent("onmessage",d.handleMessage)})();